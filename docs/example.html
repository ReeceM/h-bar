<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>h-bar Demo</title>
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
</head>
<body>
    <div id="h-bar" style="position: -webkit-sticky; position: sticky; top: 0;" data-template="#hbar_template"></div>
    <!-- HTML BELOW USED FROM: https://tailwindcomponents.com/component/simple-template -->
    <div class="text-white mt-0 border border-blue-800 py-0 w-full h-full" style="background-image:url('https://demos.onepagelove.com/html/leno/images/header-background.jpg')">
        <header class="flex md:justify-between p-8">
            <div class="flex items-center">
                <svg class="sm:w-12 w-10 inline mr-3" fill="#00c9db" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 586.5 586.5" xml:space="preserve"><polygon points="471.75,89.25 369.75,89.25 168.3,410.55 102,293.25 216.75,89.25 114.75,89.25 0,293.25 114.75,497.25 216.75,497.25 418.2,175.95 484.5,293.25 369.75,497.25 471.75,497.25 586.5,293.25"></polygon></svg>
                <h1 class="inline text-white sm:text-3xl text-2xl font-bold"><a href="/">My Company</a></h1>
            </div>
            <div class="flex md:text-white">
                <ul class="items-center pt-2 flex">
                    <li class="ml-4 p4"><a href="">Home</a></li>
                    <li class="ml-4 p4"><a href="">Features</a></li>
                    <li class="ml-4 p4"><a href="">Details</a></li>
                    <li class="ml-4 p4"><a href="">Preview</a></li>
                    <li class="ml-4 p4"><a href="">Contact</a></li>
                </ul>
            </div>
        </header>
        <section class="px-2 lg:px-0 mt-16 sm:mt-32 flex w-full container mx-auto pb-16">
            <div class="w-full text-white flex justify-center md:justify-start text-center md:text-left">
                <div class="md:w-1/2 w-full">
                    <h2 class="leading-none font-bold text-2xl xs:text-2x1 md:text-5xl lg:6x1 uppercase">Mobile app for <span class="text-blue-400">Marketers</span></h2>
                    <p class="mt-12 mb-12">This Landing is one is one of the easiest and feature packed marketing automation apps in the market. Download it today!</p>
                    <button class="px-16 rounded-full bg-blue-400 text-white font-bold p-4 uppercase border-blue-500 border">Download Now!</button>
                </div>
                <div class="md:w-1/2 md:justify-center md:flex hidden">
                    <img src="https://demos.onepagelove.com/html/leno/images/header-iphone.png" alt="Mobile Phone">
                </div>
            </div>
        </section>
        <section class="bg-gray-900 sm:py-32 py-16">
            <div class="container mx-auto sm:flex-row flex-col flex ">
                <div class="sm:w-1/3 w-full sm:mb-0 mb-16">
                    <img src="https://demos.onepagelove.com/html/leno/images/testimonial-1.jpg" class="rounded-full w-24 h-24 mx-auto mb-2">
                    <p class="italic text-gray-500 text-center my-3">I just finished my trial period and was so amazed with the support and results that I purchased this template.</p>
                    <p class="font-bold  text-gray-400 text-center text-xl">Sandy Grain - Designer</p>
                </div>
                <div class="sm:w-1/3 w-full sm:mb-0 mb-16">
                    <img src="https://demos.onepagelove.com/html/leno/images/testimonial-2.jpg" class="rounded-full w-24 h-24 mx-auto mb-2">
                    <p class="italic text-gray-500 text-center my-3">Searching for a great marketing automation app was difficult but thankfully I found this template.</p>
                    <p class="font-bold  text-gray-400 text-center text-xl">Bruce Cashman - Developer</p>
                </div>
                <div class="sm:w-1/3 w-full sm:mb-0 mb-16">
                    <img src="https://demos.onepagelove.com/html/leno/images/testimonial-3.jpg" class="rounded-full w-24 h-24 mx-auto mb-2">
                    <p class="italic text-gray-500 text-center my-3">Who would have thought that this template can provide such amazing results in just a few weeks of use.</p>
                    <p class="font-bold  text-gray-400 text-center text-xl">Amanda Savage - Administrator</p>
                </div>
            </div>
        </section>
        <section class="bg-gray-800 py-32">
            <div class="container mx-auto">
                <h1 class="text-5xl font-bold uppercase text-center text-gray-300">Features</h1>
                <div class="flex justify-center">
                    <p class="w-1/2 text-center text-gray-300">This template was designed based on input from personal development coaches and popular trainers so it offers all</p>
                </div>
            </div>
        </section>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@reecem/h-bar@next/dist/hBar.min.js"></script>

    <template id="hbar_template">
        <div
            class="hb-flex hb-w-full hb-flex-col md:hb-flex-row hb-text-sm hb-py-2 md:hb-px-20 hb-px-1 hb-items-center hb-justify-between hb-bg-indigo-400 hb-text-indigo-900">
            <div class="hb-flex hb-items-center"><span
                    class="hb-px-2 hb-mx-2 hb-leading-relaxed hb-tracking-wider hb-uppercase hb-font-semibold hb-rounded-full hb-text-xs hb-bg-indigo-100 hb-text-indigo-900 shadow">New Release</span><a
                    class="hover:hb-underline hb-inline-flex hb-items-center hover:hb-text-indigo-100"
                    href="{% link %}" target="_blank">{% title %}
                    <svg class="hb-h-3 hb-w-3" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                            clip-rule="evenodd"></path>
                    </svg>
                </a></div>
            <div class="hb-flex hb-items-center">
                <a class="hb-mx-5 hb-cursor-pointer hover:hb-underline hover:hb-text-red-100" href="http://docs.localhost.com">Info</a>
                <a class="hb-mx-5 hb-cursor-pointer hover:hb-underline hover:hb-text-red-100" href="http://docs.localhost.com">Info</a>
            </div>
        </div>
        <!-- <div class="absolute top-auto right-0 w-full flex justify-center mt-5">
            <div class="max-w-lg">
                <div class="bg-orange-100 border-l-4 border-orange-900 text-orange-700 p-4" role="alert">
                    <p class="font-bold">{% title %}</p>
                    <p>
                        <a href="{% link %}" class="hover:underline text-gray-700">Go to the GitHub Release</a>
                    </p>
                </div>
            </div>
        </div> -->
    </template>

    <script>
        /**
         * Below we are using the h-bar with the preset values and not from a blog.
         */
        let post_like_url = "https://httpbin.org/delay/2?title=What+A+Wonderful+Chicken+Pie&link=http%3A%2F%2Flocalhost&secondaryLinks=[{\"link\"%3A+\"http%3A%2F%2Fdocs.localhost.com\"%2C+\"title\"%3A+\"Info\"}]";
        let github_release_link = "https://api.github.com/repos/ReeceM/h-bar/releases";

        // this handles a post response that wouldn't be passed by the default wp-json one built-in
        // you can also make it do other things or handle a custom api endpoint.
        let post_parser = (data) => {
                const {title, link, secondaryLinks} = data.args;

                return {
                    title: title,
                    link: link,
                    /**  Returning a secondary links value actually overrides the one passed in init()*/
                    secondaryLinks: JSON.parse(secondaryLinks)
                };
            }

        // this one appends different data onto the name
        let github_release = (data) => {
            const {name, html_url} = data[0];
            return {
                title: `Latest version available ${name}`,
                link: html_url
            };
        }

        var dateToday = new Date();
        /**
         *  Add two(2) minutes to the delay to see it work :)
         */
        // var dismissMillis = (new Date()).setMinutes(dateToday.getMinutes() + 2);

        hBar.init({
            el: "#h-bar",
            url: post_like_url,
            onCompleted: (e) => {
                console.log(e)
            },
            theme: 'red',
            // dismissible: true,
            // dismissFor: new Date(dismissMillis),
            /**
             * Custom parser that also handles the response and can add extra data.
             * pick a different one to see the results.
             */
            parser: post_parser,
            secondaryLinks: [
            {
                title: "Docs",
                link: "http:://docs.example.com"
            },
            {
                title: "Support",
                link: "http://help.example.com"
            }
            ]
        })
        hBar.fetch()
    </script>
</body>
</html>
